<!DOCTYPE html>
<html lang="{{ $.Site.LanguageCode | default "en" }}">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,minimum-scale=1">

        {{ template "_internal/google_analytics_async.html" . }}
        {{ template "_internal/schema.html" . }}
        {{ template "_internal/opengraph.html" . }}
        {{ template "_internal/twitter_cards.html" . }}
        <meta name="description" content="{{ with .Description }}{{ . }}{{ else }}{{if .IsPage}}{{ .Summary }}{{ else }}{{ with .Site.Params.description }}{{ . }}{{ end }}{{ end }}{{ end }}" />


        <!-- <link rel="stylesheet" href="{{ "css/style.css" | relURL }}" media="all" /> -->

        <!-- Favicons -->
        <link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png">
        <link rel="manifest" href="/favicons/site.webmanifest">

        {{ hugo.Generator }}

        {{ block "head" . }}{{ end }}

		<!-- CSS -->
		{{- $inServerMode	:= .Site.IsServer }}
		{{- $cssTarget		:= "css/style.css" }}
		{{- $cssOptions		:= cond ($inServerMode) (dict "targetPath" $cssTarget "enableSourceMap" true) (dict "targetPath" $cssTarget "outputStyle" "compressed") }}
		{{- $style			:= resources.Get "scss/styles.scss" | toCSS $cssOptions }} <!-- CSS | postCSS -->
        <link rel="stylesheet" href="{{ $style.RelPermalink }}">
    </head>

    <body>
        <header>
            <nav class="primary-nav">
                <a href="{{ "" | relURL }}" class="logo"><img src="/favicons/favicon-32x32.png" alt="logo" class='logo'></a>
                <a href="{{ "" | relURL }}" class="o-navlink">Home</a>
                <a href="{{ .Site.BaseURL }}archives" class="o-navlink">Archives</a>
                <a href="{{ .Site.BaseURL }}about" class="about">About</a>
            </nav>
        </header>
        <main>
            {{- block "main" . }}{{- end }}
        </main>
    </body>
</html>